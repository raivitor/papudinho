<!DOCTYPE html>
<html>
  <head>
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>Papudinho</title>

    <link href="lib/ionic/css/myStyle.css" rel="stylesheet">
    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <script src="lib/ionic/js/ionic.bundle.js"></script>
    <script src="//maps.googleapis.com/maps/api/js?key=AIzaSyB16sGmIekuGIvYOfNoW9T44377IU2d2Es&sensor=true"></script>

    <!-- cordova script (this will be a 404 during development) -->
    <script src="cordova.js"></script>    
    <script src="js/app.js"></script>

  </head>
  <body ng-app="app" >

    <ion-nav-view></ion-nav-view>

    <script id="login" type="text/ng-template" >
      <ion-view title="Papudinho">
          <ion-nav-bar class="bar-positive"></ion-nav-bar> 
          <ion-content padding="true" class="has-header">
              <div style="border: 1px solid rgb(238, 238, 238); border-radius: 3px; text-align: center; background-color: rgb(255, 255, 255);">
                  <img src='img/Papudim.jpg' width="150px" style="vertical-align: middle;">
                <!-- <i class="icon ion-image" style="font-size: 64px; color: rgb(136, 136, 136); vertical-align: middle;"></i> -->
              </div>

              <form ng-submit="submit()" ng-controller="LoginForm">
                  <ion-list>
                      <label class="item item-input">
                          <span class="input-label">Usuário  </span>
                          <input id="usuario" name="usuario" type="text" placeholder="" ng-model="email" >
                      </label>
                      <label class="item item-input">
                          <span class="input-label">Senha</span>
                          <input id="senha" name="senha" type="password" placeholder="" ng-model="senha">
                      </label>
                  </ion-list>
                  <div class="spacer" style="height: 40px;"></div>
                  <input type="submit" id="submit" value="Entrar" class="button button-stable button-block" />
                  <a href="#/signup" class="button button-positive button-clear button-block">Criar Conta</a>
              </form>
          </ion-content>
      </ion-view>
    </script>

    <script id="signup" type="text/ng-template">
    <ion-view title="Cadastro">

        <ion-nav-bar class="bar-positive">
          <ion-nav-buttons side="left">
            <button class="button back-button buttons button-clear header-item" ng-click="$ionicGoBack($event)">
            <i class="ion-ios7-arrow-back"></i> Voltar
          </button>
          </ion-nav-buttons>
        </ion-nav-bar>

        <ion-content padding="true" class="has-header">

            <form ng-submit="submitcadastro()" ng-controller="CadastroForm">
                <ion-list>
                    {{erro}}
                    <label class="item item-input">
                        <span class="input-label">Usuario</span>
                        <input type="text" placeholder="" ng-model="user">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">Email</span>
                        <input type="email" placeholder="" ng-model="email">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">Senha</span>
                        <input type="password" placeholder="" ng-model="password">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">Confirmar Senha</span>
                        <input type="password" placeholder="" ng-model="password2">
                    </label>
                </ion-list>
                <input type="submit" id="submit" value="Cadastrar" class="button button-stable button-block" />
            </form>
        </ion-content>

    </ion-view>
    </script>

    <script id="sideMenu" type="text/ng-template" >
      <ion-side-menus enable-menu-with-back-views="false">

        <ion-side-menu-content>
          <ion-nav-bar class="bar-positive">
            <ion-nav-back-button></ion-nav-back-button>
            <ion-nav-buttons side="left">
              <button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
            </ion-nav-buttons>
          </ion-nav-bar>

          <ion-nav-view name="menuContent"></ion-nav-view>
        </ion-side-menu-content> 

        <ion-side-menu side="left">
          <ion-header-bar class="bar-positive">
             <h1 class="title">Papudinho</h1>
          </ion-header-bar>
          <ion-content ng-controller="sidebar">
            <ul class="list">
              <a href="#/menu/home" class="item" menu-close>Home</a>
              <a href="#/menu/amigos" class="item" menu-close>Amigos</a>
              <a href="#/menu/bares" class="item" menu-close>Bares</a>
              <a href="#/menu/cartoes" class="item" menu-close>Cartões</a>
              <a href="#/menu/promocao" class="item" menu-close>Promoções</a>
              <a href="#/login" class="item" menu-close ng-click="sair()">Sair</a>
            </ul>
          </ion-content>
        </ion-side-menu>

      </ion-side-menus>
    </script>

    <script id="home" type="text/ng-template">
      <ion-view view-title="Papudinho" ng-controller="Home">
        <ion-content padding="true" class="has-header">
          <div align="center">{{msg}}</div>
          <div ng-repeat="cartao in CartoesVencimento">
            <div class="card">
              <div class="item item-text-wrap" >
                <p>
                  Bebida: {{ cartao.drink_name }} <br>
                  Bar:  {{ cartao.bar_name }}<br>
                  Doses restantes: {{ cartao.doses_restantes }} <br>
                  Vencimento: {{ cartao.due_date }} <br>
                </p>
              </div>
            </div>
          </div>
        </ion-content>
      </ion-view>
    </script>

    <script id="amigos" type="text/ng-template">
      <ion-view view-title="Amigos" ng-controller="Amigos">

        <ion-nav-bar class="bar-positive">
          <ion-nav-buttons side="left">
            <button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
          </ion-nav-buttons>
          <ion-nav-buttons side="right">
            <a href="#/addAmigo" class="button button-icon icon ion-person-add"></a>
          </ion-nav-buttons>
        </ion-nav-bar>

        <ion-content padding="true" class="has-header">
          <div class="list">

            <a class="item item-icon-left item-icon-right" href="#" ng-repeat="amigo in Amigos">
              <i class="icon ion-person-stalker"></i>
                ‎{{amigo.name}}<br>
                <small>{{amigo.email}}</small>
              <i class="icon ion-ios7-telephone"></i>
            </a>

          </div>
        </ion-content>
      </ion-view>
    </script>


    <script id="bares" type="text/ng-template">
      <ion-view view-title="Bares" ng-controller="Bares">

        <ion-nav-bar class="bar-positive">
          <ion-nav-buttons side="left">
            <button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
          </ion-nav-buttons>
        </ion-nav-bar>

        <ion-content padding="true" class="has-header">
          <div class="list">
            <div ng-repeat="module in Bares">
             <a class="item item-thumbnail-left" href="#">
                <img src="#">
                <h2>{{ module.name }}</h2>
                <p>{{ module.city }} - {{ module.street }}, {{ module.number }}<br>
                {{ module.phone }}</p>
              </a>
            </div>
          </div>
        </ion-content>
      </ion-view>
    </script>


    <script id="cartoes" type="text/ng-template">
      <ion-view title="Cartões" ng-controller="Cartoes">

          <ion-nav-bar class="bar-positive">
            <ion-nav-buttons side="left">
              <button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
            </ion-nav-buttons>
            <ion-nav-buttons side="right">
              <a href="#/addCartao" class="button button-icon icon ion-plus"></a>
            </ion-nav-buttons>
          </ion-nav-bar>
          {{msgCartoes}}
          <ion-content padding="true" class="has-header">
            <div class="list">
              <div ng-repeat="module in Cartoes">

                <a class="item " href="#/timeline">
                  <div class="row">
                    <div class="col">
                      <p><b>{{ module.bar_name }}</b><br>
                      {{ module.drink_name }}<br>
                      {{ module.total_doses }} doses totais</p>
                    </div>
                    <div class="col">
                      <p>{{ module.remaining_doses }} Doses restantes<br>
                      Venc: {{ module.due_date }}</p>
                    </div>
                  </div>
                </a>

              </div>
            </div>
          </ion-content>
      </ion-view>
    </script>

    <script id="promocao" type="text/ng-template">
      <ion-view title="Promoções" ng-controller="Promocoes">
          <ion-content padding="true" class="has-header">
            <div class=" card">
              <div class="item item-text-wrap" ng-repeat="module in Promocoes">
                <h2>{{module.bar_name}}</h2>
                <h3>{{module.title}}</h3>
                <p>{{module.description}}<br>
                  Válido até {{module.date}}</p>
              </div>
            </div>
          </ion-content>
      </ion-view>
    </script>

    <script id="addCartao" type="text/ng-template">
      <ion-view view-title="Novo Cartão">

        <ion-nav-bar class="bar-positive">
          <ion-nav-buttons side="left">
            <button class="button back-button buttons button-clear header-item" ng-click="$ionicGoBack($event)">
            <i class="ion-ios7-arrow-back"></i> Voltar
          </button>
          </ion-nav-buttons>
        </ion-nav-bar>

        <ion-content padding="true" class="has-header">
          <form ng-submit="submitcartao()" ng-controller="NovoCartao">
            <div align="center">{{msg}}</div>
            <div class="row">
              <div class="col">
                <label class="item item-input item-select">
                  <div class="input-label">
                    Bebida
                  </div>
                  <select ng-model="bebida" required>
                    <option selected > -- Escolha -- </option>
                    <option align="center"  ng-repeat="module in Bebidas" >{{module.name}} </option>
                  </select>
                </label>
              </div>
            </div>

            <div class="row">
              <div class="col"> 
                <label class="item item-input item-select">
                  <div class="input-label">
                    Bar
                  </div>
                  <select ng-model="bar" required>
                    <option selected> -- Escolha -- </option>
                    <option align="center" ng-repeat="module in Bares" >{{module.name}} </option>
                  </select>
                </label>
              </div>
            </div>

            <div class="row">
              <div class="col">
                <label class="item item-input">
                  <span class="input-label">Data de Vencimento</span>
                  <input type="date" ng-model="vencimento" required>
                </label>
              </div>
              <!--
              <div class="col col-center" align="center">
                  <label class="toggle toggle-positive">
                    <input type="checkbox">
                    <div class="track">
                      <div class="handle"></div>
                    </div>
                  </label>
              </div>
                -->
            </div>

            <div class="row">
              <div class="col col-80">
                <div class="item range range-positive">
                  <input type="range" name="doses" min="0" max="20" value="1" ng-model="doses">
                </div>
              </div>
              <div class="col col-center" align="center">
                <p>Doses : {{doses}}</p>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col" align="center"><i class="icon ion-image" style="font-size: 70px; color: rgb(136, 136, 136);"></i></div>
              <div class="col" align="center"><i class="icon ion-image" style="font-size: 70px; color: rgb(136, 136, 136);"></i></div>
            </div>
            <input type="submit" id="SalvarCartao" value="Salvar" class="button button-stable button-block" />
          </form>
        </ion-content>
      </ion-view>
    </script>

    <script id="addAmigo" type="text/ng-template">
      <ion-view view-title="Adicionar Amigo" >

        <ion-nav-bar class="bar-positive">
          <ion-nav-buttons side="left">
            <button class="button back-button buttons button-clear header-item" ng-click="$ionicGoBack($event)">
              <i class="ion-ios7-arrow-back"></i> Voltar
            </button>
          </ion-nav-buttons>
        </ion-nav-bar>

        <ion-content padding="true" class="has-header">
          <form ng-submit="submitamigo()" ng-controller="addAmigo">
            <ion-list>
                <label class="item item-input">
                    <span class="input-label">Nome</span>
                    <input type="text" placeholder="" ng-model="name">
                </label>
                <label class="item item-input">
                    <span class="input-label">Email</span>
                    <input type="text" placeholder="" ng-model="email">
                </label>
                <label class="item item-input">
                    <span class="input-label">Telefone</span>
                    <input type="text" placeholder="" ng-model="phone">
                </label>
            </ion-list>
            <input type="submit" id="SalvarAmigo" value="Salvar" class="button button-stable button-block" />
          </form>
        </ion-content>
      </ion-view>
    </script>

    <script id="timeline" type="text/ng-template">
      <ion-view view-title="Timeline">

        <ion-nav-bar class="bar-positive">
          <ion-nav-buttons side="left">
            <button class="button back-button buttons button-clear header-item" ng-click="$ionicGoBack($event)">
            <i class="ion-ios7-arrow-back"></i> Voltar
          </button>
          </ion-nav-buttons>
        </ion-nav-bar>

        <ion-content padding="true" class="has-header">
          <div class="card">
            <div class="item item-text-wrap">
              <p>
                Bebida: Ballantines<br>
                Bar: Jobim <br>
                Compra: 31/11/2014<br>
                Vencimento: 31/01/2015<br>
                Doses restantes: 17/20<br>
              </p>
            </div>
          </div>

          <div class="card">
            <div class="item item-text-wrap">
              <p>
                Data de atualização: 31/12/2014 - 23h25<br>
                Doses restantes: 17 <br>
                <p align="center">
                  <i class="icon ion-image" style="font-size: 80px; color: rgb(136, 136, 136);"></i>
                </p>
              </p>
            </div>
          </div>

          <div class="card">
            <div class="item item-text-wrap">
              <p>
                Data de atualização: 29/12/2014 - 23h50<br>
                Doses restantes: 18 <br>
                <p align="center">
                  <i class="icon ion-image" style="font-size: 80px; color: rgb(136, 136, 136);"></i>
                </p>
              </p>
            </div>
          </div>

          <div class="card">
            <div class="item item-text-wrap">
              <p>
                Data de atualização: 30/12/2014 - 22h25<br>
                Doses restantes: 19 <br>
                <p align="center">
                  <i class="icon ion-image" style="font-size: 80px; color: rgb(136, 136, 136);"></i>
                </p>
              </p>
            </div>
          </div>
        </ion-content>

      </ion-view>
    </script>

  </body>
</html>
